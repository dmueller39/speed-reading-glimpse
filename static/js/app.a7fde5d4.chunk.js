(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{58:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(0),o=n.n(r),a=n(24),i=n.n(a);function s(e){return new Array(e).fill("").map((function(){return function(e){var t=Math.floor(Math.random()*e.length);return e.substring(t,t+1)}("abcdefghijklmnopqrstuvwxyz")})).join("")}var c=n(25),u=n.n(c),l=n(26),m=n.n(l),p=n(27),d=n.n(p),f=n(28),h=n.n(f),g=n(29),w=n.n(g),y=n(2),v=n(6),x=n(5),T=n(59),E=n(34),b=n.n(E);var C=function(){var e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e}();!function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=d()(this,(e=h()(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C||document.addEventListener("keydown",n._onKeyDown);case 1:case"end":return e.stop()}}))},n.componentWillUnmount=function(){return b.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C||document.removeEventListener("keydown",n._onKeyDown);case 1:case"end":return e.stop()}}))},n._onKeyDown=function(e){e.key==n.props.inputKey&&n.props.onKeyPress()},n}w()(t,e),m()(t,[{key:"render",value:function(){return C?null:r.createElement(x.a,null,this.props.children)}}])}(r.Component);function _(e){switch(e){case"positive":return k.positive;case"negative":return k.negative}return k.neutral}function P(e){var t=e.onPress,n=e.type,o=e.label,a=e.disabled,i=void 0!==a&&a,s=e.style;return i?r.createElement(v.a,{style:k.disabled},o):r.createElement(v.a,{style:[s,_(n)],onPress:t},o)}var k=y.a.create({positive:{padding:8,color:"green",fontSize:24},negative:{padding:8,color:"red",fontSize:24},neutral:{padding:8,color:"black",fontSize:24},disabled:{padding:8,color:"grey",fontSize:24}});function A(e){var t=e.children;return r.createElement(x.a,{style:I.container},r.createElement(x.a,{style:I.subcontainer},t))}var I=y.a.create({container:{flex:1,justifyContent:"flex-start"},subcontainer:{marginHorizontal:"auto",height:"100%",maxWidth:600,width:"100%"}}),S=function(e){function t(){var e,n;u()(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=d()(this,(e=h()(t)).call.apply(e,[this].concat(a)))).state={currentIndex:0,mistakes:0,screenType:1,isCorrect:!1,answerText:""},n._didHandleAnswer=!1,n._onPreGlimpseTimeout=function(){n.setState({screenType:2}),n._timeoutID=setTimeout(n._onGlimpseTimeout,200)},n._onGlimpseTimeout=function(){n.setState({screenType:3}),n._timeoutID=setTimeout(n._onPostGlimpseTimeout,1e3)},n._onPostGlimpseTimeout=function(){n._didHandleAnswer=!1,n.setState({screenType:4})},n.confirmAnswer=function(){if(!n._didHandleAnswer){n._didHandleAnswer=!0;var e=n.state.answerText.toLowerCase()===n.props.game.turns[n.state.currentIndex].toLowerCase(),t=n.state.mistakes+(e?0:1);n.setState({mistakes:t,screenType:5,isCorrect:e})}},n._onChangeAnswerText=function(e){n.setState({answerText:e})},n._onKeyPress=function(e){"Enter"==e.nativeEvent.key&&n.confirmAnswer()},n._onBlur=function(){n.state.answerText.length>0&&4==n.state.screenType&&n.confirmAnswer()},n.continueGame=function(){var e=n.state.currentIndex+1,t=n.state.mistakes;e>=n.props.game.turns.length?n.props.onComplete({mistakes:t,length:n.props.game.turns.length}):(n.setState({answerText:"",currentIndex:e,isCorrect:!1,screenType:1}),n._timeoutID=setTimeout(n._onPreGlimpseTimeout,1e3))},n._renderIcon=function(){return 5!=n.state.screenType?null:n.state.isCorrect?r.createElement(v.a,{style:B.answerText},"\u2705"):r.createElement(v.a,{style:B.answerText},"\ud83d\udeab")},n}return w()(t,e),m()(t,[{key:"componentDidMount",value:function(){this._timeoutID=setTimeout(this._onPreGlimpseTimeout,1e3)}},{key:"render",value:function(){var e=this,t=this.state.currentIndex+1>=this.props.game.turns.length;switch(this.state.screenType){case 1:return r.createElement(A,null);case 2:return r.createElement(A,null,r.createElement(v.a,{style:B.word},this.props.game.turns[this.state.currentIndex]));case 3:return r.createElement(A,null);case 4:return r.createElement(A,null,r.createElement(x.a,{style:B.answerContainer},r.createElement(T.a,{autoFocus:!0,autoCapitalize:"none",autoCorrect:!1,autoComplete:!1,onChangeText:this._onChangeAnswerText,onKeyPress:this._onKeyPress,style:B.textInput,onBlur:this._onBlur})));case 5:return r.createElement(A,null,r.createElement(x.a,{style:B.answerContainer},this._renderIcon()),r.createElement(v.a,{style:{textAlign:"center"}},this.state.answerText.toLowerCase()," /"," ",this.props.game.turns[this.state.currentIndex].toLowerCase()),r.createElement(P,{style:{textAlign:"center"},label:t?"finish":"next",onPress:function(){return e.continueGame()},type:"positive"}));default:return r.createElement(A,null)}}}]),t}(r.Component),B=y.a.create({compareContainer:{alignItems:"center",flexDirection:"row"},word:{width:"100%",textAlign:"center",fontSize:40,marginTop:40,marginBottom:40},hContainer:{flexDirection:"row",padding:8,margin:"auto",width:"100%",justifyContent:"center"},inputContainer:{alignItems:"center"},answerContainer:{width:"100%",justifyContent:"center",alignItems:"center"},answerText:{marginTop:40,marginBottom:40,fontSize:40},textInput:{marginTop:40,marginBottom:40,fontSize:40,backgroundColor:"white",textAlign:"center"}});function G(e){var t=e.setGame,n=e.options,a=Object(r.useState)(!1),s=i()(a,2),c=s[0],u=s[1];if(c){return o.a.createElement(A,null,o.a.createElement(P,{label:"\u274e",onPress:function(){return u(!1)},type:"neutral",style:D.infoButton}),o.a.createElement(v.a,{style:D.infoText},"Select the number of characters you'd like to remember.","\n","There will be 10 turns.","\n","Each turn you will be given a brief glimpse of characters to remember.","\n","Retype the characters into the box and hit enter when you are done to progress.","\n"))}var l=n.map((function(e){var n=e.getGamePlan,r=e.name;return o.a.createElement(P,{key:r,label:r,onPress:function(){return t(n())},type:"positive",style:D.labelButton})}));return o.a.createElement(A,null,o.a.createElement(P,{label:"\u2139\ufe0f",onPress:function(){return u(!0)},type:"neutral",style:D.infoButton}),l)}var D=y.a.create({infoButton:{right:5,position:"absolute"},infoText:{paddingLeft:5,paddingRight:30,paddingTop:5},labelButton:{alignSelf:"center"}}),z=[2,3,4,5,6,7].map((function(e){return{name:""+e,getGamePlan:function(){return t=e,{turns:new Array(7).fill("").map((function(){return s(t)}))};var t}}}));function M(){var e=Object(r.useState)(null),t=i()(e,2),n=t[0],a=t[1];if(null==n)return o.a.createElement(G,{options:z,setGame:a});return o.a.createElement(S,{game:n,onComplete:function(e){window.top.postMessage(window.location.href+" - complete","*"),a(null)}})}function j(e){return r.createElement(M,e)}},63:function(e,t,n){n(64),e.exports=n(90)},64:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/speed-reading-glimpse/expo-service-worker.js",{scope:"/speed-reading-glimpse/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[63,1,2]]]);
//# sourceMappingURL=app.a7fde5d4.chunk.js.map