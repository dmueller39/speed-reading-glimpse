(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{58:function(e,t,n){"use strict";n.d(t,"a",(function(){return K}));var r=n(0),o=n.n(r),a=n(36),i=n.n(a);function s(e){return new Array(e).fill("").map((function(){return function(e){var t=Math.floor(Math.random()*e.length);return e.substring(t,t+1)}("abcdefghijklmnopqrstuvwxyz")})).join("")}var c=n(24),u=n.n(c),l=n(25),m=n.n(l),p=n(26),d=n.n(p),f=n(27),w=n.n(f),h=n(28),g=n.n(h),v=n(2),y=n(11),T=n(5),x=n(59),_=n(33),E=n.n(_);var k=function(){var e=!1;if("maxTouchPoints"in navigator)e=navigator.maxTouchPoints>0;else if("msMaxTouchPoints"in navigator)e=navigator.msMaxTouchPoints>0;else{var t=window.matchMedia&&matchMedia("(pointer:coarse)");if(t&&"(pointer:coarse)"===t.media)e=!!t.matches;else if("orientation"in window)e=!0;else{var n=navigator.userAgent;e=/\b(BlackBerry|webOS|iPhone|IEMobile)\b/i.test(n)||/\b(Android|Windows Phone|iPad|iPod)\b/i.test(n)}}return e}();!function(e){function t(){var e,n;u()(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return(n=d()(this,(e=w()(t)).call.apply(e,[this].concat(o)))).componentDidMount=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:k||document.addEventListener("keydown",n._onKeyDown);case 1:case"end":return e.stop()}}))},n.componentWillUnmount=function(){return E.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:k||document.removeEventListener("keydown",n._onKeyDown);case 1:case"end":return e.stop()}}))},n._onKeyDown=function(e){e.key==n.props.inputKey&&n.props.onKeyPress()},n}g()(t,e),m()(t,[{key:"render",value:function(){return k?null:r.createElement(T.a,null,this.props.children)}}])}(r.Component);function C(e){switch(e){case"positive":return P.positive;case"negative":return P.negative}return P.neutral}function b(e){var t=e.onPress,n=e.type,o=e.label,a=e.disabled,i=void 0!==a&&a,s=e.style;return i?r.createElement(y.a,{style:P.disabled},o):r.createElement(y.a,{style:[s,C(n)],onPress:t},o)}var P=v.a.create({positive:{padding:8,color:"green",fontSize:24},negative:{padding:8,color:"red",fontSize:24},neutral:{padding:8,color:"black",fontSize:24},disabled:{padding:8,color:"grey",fontSize:24}});function A(e){var t=e.children;return r.createElement(T.a,{style:I.container},r.createElement(T.a,{style:I.subcontainer},t))}var I=v.a.create({container:{flex:1,justifyContent:"flex-start"},subcontainer:{marginHorizontal:"auto",height:"100%",maxWidth:600,width:"100%"}}),S=function(e){function t(){var e,n;u()(this,t);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(n=d()(this,(e=w()(t)).call.apply(e,[this].concat(a)))).state={currentIndex:0,mistakes:0,screenType:1,isCorrect:!1,answerText:""},n._didHandleAnswer=!1,n._onPreGlimpseTimeout=function(){n.setState({screenType:2}),n._timeoutID=setTimeout(n._onGlimpseTimeout,200)},n._onGlimpseTimeout=function(){n.setState({screenType:3}),n._timeoutID=setTimeout(n._onPostGlimpseTimeout,1e3)},n._onPostGlimpseTimeout=function(){n._didHandleAnswer=!1,n.setState({screenType:4})},n.confirmAnswer=function(){if(!n._didHandleAnswer){n._didHandleAnswer=!0;var e=n.state.answerText.toLowerCase()===n.props.game.turns[n.state.currentIndex].toLowerCase(),t=n.state.mistakes+(e?0:1);n.setState({mistakes:t,screenType:5,isCorrect:e}),n._timeoutID=setTimeout(n._onAnswerTimeout,500)}},n._onAnswerTimeout=function(){n.continueGame()},n._onChangeAnswerText=function(e){n.setState({answerText:e})},n._onKeyPress=function(e){"Enter"==e.nativeEvent.key&&n.confirmAnswer()},n._onBlur=function(){n.state.answerText.length>0&&4==n.state.screenType&&n.confirmAnswer()},n.continueGame=function(){var e=n.state.currentIndex+1,t=n.state.mistakes;e>=n.props.game.turns.length?n.props.onComplete({mistakes:t,length:n.props.game.turns.length}):(n.setState({answerText:"",currentIndex:e,isCorrect:!1,screenType:1}),n._timeoutID=setTimeout(n._onPreGlimpseTimeout,1e3))},n._renderIcon=function(){return 5!=n.state.screenType?null:n.state.isCorrect?r.createElement(y.a,{style:G.answerText},"\u2705"):r.createElement(y.a,{style:G.answerText},"\ud83d\udeab")},n}return g()(t,e),m()(t,[{key:"componentDidMount",value:function(){this._timeoutID=setTimeout(this._onPreGlimpseTimeout,1e3)}},{key:"render",value:function(){this._renderIcon();switch(this.state.screenType){case 1:return r.createElement(A,null);case 2:return r.createElement(A,null,r.createElement(y.a,{style:G.word},this.props.game.turns[this.state.currentIndex]));case 3:return r.createElement(A,null);case 4:return r.createElement(A,null,r.createElement(T.a,{style:G.answerContainer},r.createElement(x.a,{autoFocus:!0,autoCapitalize:"none",onChangeText:this._onChangeAnswerText,onKeyPress:this._onKeyPress,style:G.textInput,onBlur:this._onBlur})));case 5:return r.createElement(A,null,r.createElement(T.a,{style:G.answerContainer},this._renderIcon()));default:return r.createElement(A,null)}}}]),t}(r.Component),G=v.a.create({word:{width:"100%",textAlign:"center",fontSize:40,marginTop:40,marginBottom:40},hContainer:{flexDirection:"row",padding:8,margin:"auto",width:"100%",justifyContent:"center"},inputContainer:{alignItems:"center"},answerContainer:{width:"100%",justifyContent:"center",alignItems:"center"},answerText:{marginTop:40,marginBottom:40,fontSize:40},textInput:{marginTop:40,marginBottom:40,fontSize:40,backgroundColor:"white",textAlign:"center"}});function D(e){var t=e.setGame,n=e.options.map((function(e){var n=e.getGamePlan,o=e.name;return r.createElement(b,{key:o,label:o,onPress:function(){return t(n())},type:"positive",style:z.labelButton})}));return r.createElement(A,null,n)}var z=v.a.create({labelButton:{alignSelf:"center"}}),B=[2,3,4,5,6,7].map((function(e){return{name:""+e,getGamePlan:function(){return t=e,{turns:new Array(10).fill("").map((function(){return s(t)}))};var t}}}));function M(){var e=Object(r.useState)(null),t=i()(e,2),n=t[0],a=t[1];if(null==n)return o.a.createElement(D,{options:B,setGame:a});return o.a.createElement(S,{game:n,onComplete:function(e){window.top.postMessage(window.location.href+" - complete","*"),a(null)}})}function K(e){return r.createElement(M,e)}},63:function(e,t,n){n(64),e.exports=n(90)},64:function(e,t){"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/speed-reading-glimpse/expo-service-worker.js",{scope:"/speed-reading-glimpse/"}).then((function(e){})).catch((function(e){console.info("Failed to register service-worker",e)}))}))}},[[63,1,2]]]);
//# sourceMappingURL=app.c5feb2b0.chunk.js.map